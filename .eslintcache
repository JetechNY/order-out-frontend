[{"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/index.js":"1","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/RestaurantProfile.js":"2","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/MenuCard.js":"3","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Containers/RestaurantContainer.js":"4","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/RestaurantCard.js":"5","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/App.js":"6","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Cart.js":"7","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Navbar.js":"8","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Containers/MenuContainer.js":"9","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/util.js":"10","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Redux/actions.js":"11","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Redux/rootReducer.js":"12","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Redux/later/cartActions.js":"13","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Search.js":"14","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Home.js":"15","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/History.js":"16","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/later/Account.js":"17"},{"size":548,"mtime":1608823018068,"results":"18","hashOfConfig":"19"},{"size":1813,"mtime":1608823187567,"results":"20","hashOfConfig":"19"},{"size":1191,"mtime":1608613668405,"results":"21","hashOfConfig":"19"},{"size":2727,"mtime":1609042182348,"results":"22","hashOfConfig":"19"},{"size":1834,"mtime":1608823283823,"results":"23","hashOfConfig":"19"},{"size":6128,"mtime":1608828379547,"results":"24","hashOfConfig":"19"},{"size":3533,"mtime":1608828473110,"results":"25","hashOfConfig":"19"},{"size":686,"mtime":1608753017229,"results":"26","hashOfConfig":"19"},{"size":437,"mtime":1608582429061,"results":"27","hashOfConfig":"19"},{"size":76,"mtime":1608172519220,"results":"28","hashOfConfig":"19"},{"size":2532,"mtime":1608823353751,"results":"29","hashOfConfig":"19"},{"size":1515,"mtime":1608823375424,"results":"30","hashOfConfig":"19"},{"size":839,"mtime":1608183085501,"results":"31","hashOfConfig":"19"},{"size":467,"mtime":1609042062172,"results":"32","hashOfConfig":"19"},{"size":374,"mtime":1608607564834,"results":"33","hashOfConfig":"19"},{"size":1721,"mtime":1608822709012,"results":"34","hashOfConfig":"19"},{"size":304,"mtime":1608823491054,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"12e33v6",{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"70","messages":"71","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/index.js",[],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/RestaurantProfile.js",[],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/MenuCard.js",["72","73"],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Containers/RestaurantContainer.js",["74"],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/RestaurantCard.js",[],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/App.js",["75","76","77","78","79"],"import React from 'react';\nimport NavBar from './Components/Navbar';\nimport Account from './Components/later/Account';\nimport Home from './Components/Home';\nimport History from './Components/History';\nimport RestaurantContainer from './Containers/RestaurantContainer';\nimport Cart from './Components/Cart';\nimport {\n  withRouter,\n  Switch,\n  Route,\n  Link,\n  Redirect\n} from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport produce from \"immer\";\n\n\nclass App extends React.Component {\n\n  state = {\n      activeCart: [],\n      token: \"\",\n      username: \"\",\n      past_orders: []\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:3000/api/v1/users/1')\n      .then(response => response.json())\n      .then(data => {\n        let activeCart = data.carts.filter(cart => cart.checkout === false)\n        let past_orders = data.carts.filter(cart => cart.checkout === true)\n        this.setState({\n          activeCart: activeCart[0],\n          past_orders: past_orders\n        })\n      });\n  }\n\n  addToCart = (menuObj) => {\n    // const cartItems = this.state.activeCart.menu_items.slice();\n    // let alreadyInCart = false;\n    // cartItems.forEach((item) => {\n    //   if (item.id === menuObj.id) {\n    //     item.count++;\n    //     alreadyInCart = true;\n    //   }\n    // });\n    // if (!alreadyInCart) {\n    //   cartItems.push({ ...menuObj.id, count: 1 });\n    // }\n    fetch('http://localhost:3000/api/v1/cart_items', {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify({\n        menu_item_id: menuObj.id,\n        cart_id: this.state.activeCart.id\n      })\n    })\n      .then(r => r.json())\n      .then(data => {\n        // debugger\n        this.setState(produce(this.state, draft => {\n          draft.activeCart.menu_items = [...draft.activeCart.menu_items, data.menu_item]\n          draft.activeCart.cart_items = [...draft.activeCart.cart_items, data.cart_item]\n        }))\n      })\n  }\n\n  removeFromCart = (menuitem) => {\n    let cartItem = this.state.activeCart.cart_items.find(item => item.menu_item_id == menuitem.id )\n    //use filter instead of find?\n    let cartIndex = this.state.activeCart.cart_items.indexOf(cartItem)\n    let menuIndex = this.state.activeCart.menu_items.indexOf(menuitem)\n    fetch(`http://localhost:3000/api/v1/cart_items/${cartItem.id}`, {\n      method: 'DELETE'\n    })\n    .then(resp => resp.json())\n    .then(data => {\n      this.setState(produce(this.state, draft => {\n        draft.activeCart.cart_items.splice(cartIndex, 1)\n        draft.activeCart.menu_items.splice(menuIndex, 1)\n      }))\n    })\n    .catch(err => console.log(err))\n}\n\n  handleCheckout = () => {\n    alert(\"Thank you for your order! Your food is on the way. \");\n      Promise.all([\n        fetch('http://localhost:3000/api/v1/carts',{\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n          },\n          body: JSON.stringify({\n            note: \"tester note\",\n            checkout: false,\n            user_id: 1\n          })\n        })\n        ,\n        fetch(`http://localhost:3000/api/v1/carts/${this.state.activeCart.id}`,{\n          method: \"PATCH\",\n          headers: {\n              \"Content-Type\": \"application/json\",\n              \"Accept\": \"application/json\"\n          },\n          body: JSON.stringify({\n            checkout: true\n          })\n        })\n      ])\n      .then(([resp1, resp2]) => {\n        return Promise.all([resp1.json(), resp2.json()])\n      })\n      .then(([data1, data2]) => {\n        console.log(\"checkout\",data1, data2)\n        this.setState({\n          activeCart: data1\n        })\n        this.setState(prevState => ({\n          past_orders: [...prevState.past_orders, data2]\n        }))\n        this.props.history.push(\"/\")\n        })\n      }\n\n    render(){\n      // console.log(\"historycart\",this.state.past_orders)\n      return (\n        <>\n        { this.state.activeCart.length === 0 ? <h2>loading</h2> :\n          <div className=\"grid-container\">\n            <header>\n              <NavBar/>\n            </header>\n            <main>\n              <div className=\"content\">\n                <div className=\"main\">\n                  <Route\n                      path='/' exact\n                      render={()=>{\n                        return(\n                          <div className='index'>\n                            <Home/>\n                          </div>\n                        )\n                      }}/>\n                  <Route\n                      path='/my-account'\n                      render={()=>{\n                        return(\n                          <div className=\"index\">\n                          <Account/>\n                          </div>\n                        )\n                      }}/>\n                  <Route\n                      path='/restaurants'\n                      render={()=>{\n                        return(\n                          <div className='index'>\n                            <RestaurantContainer\n                              addToCart={this.addToCart}\n                            />\n                          </div>\n                        )\n                      }}/>\n                  <Route\n                      path='/carthistory'\n                      render={()=>{\n                        return(\n                          <div className=\"index\">\n                          <History pastOrders={this.state.past_orders}/>\n                          </div>\n                        )\n                  }}/>\n                </div>\n                <div className=\"sidebar\">\n                  <Cart\n                    menuItems={this.state.activeCart.menu_items}\n                    removeFromCart={this.removeFromCart}\n                    handleCheckout={this.handleCheckout}\n                  />\n                </div>\n              </div>\n            </main>\n            <footer> Order Out By SunJet Liu </footer>\n          </div>\n        }\n        </>\n    );\n  }\n\n}\n\nexport default withRouter(App);\n","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Cart.js",["80","81","82","83","84"],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Navbar.js",[],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Containers/MenuContainer.js",[],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/util.js",[],["85","86"],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Redux/actions.js",[],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Redux/rootReducer.js",[],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Redux/later/cartActions.js",[],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Search.js",[],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Home.js",["87","88","89","90"],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/History.js",["91"],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/later/Account.js",["92","93","94","95"],{"ruleId":"96","severity":1,"message":"97","line":3,"column":8,"nodeType":"98","messageId":"99","endLine":3,"endColumn":13},{"ruleId":"100","severity":1,"message":"101","line":16,"column":21,"nodeType":"102","endLine":16,"endColumn":24},{"ruleId":"103","severity":1,"message":"104","line":48,"column":102,"nodeType":"105","messageId":"106","endLine":48,"endColumn":104},{"ruleId":"96","severity":1,"message":"107","line":10,"column":3,"nodeType":"98","messageId":"99","endLine":10,"endColumn":9},{"ruleId":"96","severity":1,"message":"108","line":12,"column":3,"nodeType":"98","messageId":"99","endLine":12,"endColumn":7},{"ruleId":"96","severity":1,"message":"109","line":13,"column":3,"nodeType":"98","messageId":"99","endLine":13,"endColumn":11},{"ruleId":"96","severity":1,"message":"110","line":15,"column":10,"nodeType":"98","messageId":"99","endLine":15,"endColumn":17},{"ruleId":"103","severity":1,"message":"104","line":75,"column":84,"nodeType":"105","messageId":"106","endLine":75,"endColumn":86},{"ruleId":"96","severity":1,"message":"110","line":3,"column":10,"nodeType":"98","messageId":"99","endLine":3,"endColumn":17},{"ruleId":"96","severity":1,"message":"108","line":4,"column":9,"nodeType":"98","messageId":"99","endLine":4,"endColumn":13},{"ruleId":"96","severity":1,"message":"111","line":4,"column":15,"nodeType":"98","messageId":"99","endLine":4,"endColumn":20},{"ruleId":"96","severity":1,"message":"107","line":4,"column":22,"nodeType":"98","messageId":"99","endLine":4,"endColumn":28},{"ruleId":"96","severity":1,"message":"109","line":4,"column":30,"nodeType":"98","messageId":"99","endLine":4,"endColumn":38},{"ruleId":"112","replacedBy":"113"},{"ruleId":"114","replacedBy":"115"},{"ruleId":"96","severity":1,"message":"108","line":2,"column":9,"nodeType":"98","messageId":"99","endLine":2,"endColumn":13},{"ruleId":"96","severity":1,"message":"111","line":2,"column":15,"nodeType":"98","messageId":"99","endLine":2,"endColumn":20},{"ruleId":"96","severity":1,"message":"107","line":2,"column":22,"nodeType":"98","messageId":"99","endLine":2,"endColumn":28},{"ruleId":"96","severity":1,"message":"109","line":2,"column":30,"nodeType":"98","messageId":"99","endLine":2,"endColumn":38},{"ruleId":"100","severity":1,"message":"101","line":15,"column":29,"nodeType":"102","endLine":15,"endColumn":32},{"ruleId":"96","severity":1,"message":"108","line":2,"column":9,"nodeType":"98","messageId":"99","endLine":2,"endColumn":13},{"ruleId":"96","severity":1,"message":"111","line":2,"column":15,"nodeType":"98","messageId":"99","endLine":2,"endColumn":20},{"ruleId":"96","severity":1,"message":"107","line":2,"column":22,"nodeType":"98","messageId":"99","endLine":2,"endColumn":28},{"ruleId":"96","severity":1,"message":"109","line":2,"column":30,"nodeType":"98","messageId":"99","endLine":2,"endColumn":38},"no-unused-vars","'Modal' is defined but never used.","Identifier","unusedVar","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'Switch' is defined but never used.","'Link' is defined but never used.","'Redirect' is defined but never used.","'connect' is defined but never used.","'Route' is defined but never used.","no-native-reassign",["116"],"no-negated-in-lhs",["117"],"no-global-assign","no-unsafe-negation"]