[{"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/index.js":"1","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/RestaurantProfile.js":"2","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/MenuCard.js":"3","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Containers/RestaurantContainer.js":"4","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/RestaurantCard.js":"5","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/App.js":"6","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Cart.js":"7","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Navbar.js":"8","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Containers/MenuContainer.js":"9","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/util.js":"10","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Redux/actions.js":"11","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Redux/rootReducer.js":"12","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Redux/later/cartActions.js":"13","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Search.js":"14","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Filter.js":"15","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Home.js":"16","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Account.js":"17","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/History.js":"18"},{"size":663,"mtime":1608519236034,"results":"19","hashOfConfig":"20"},{"size":1769,"mtime":1608667761801,"results":"21","hashOfConfig":"20"},{"size":1191,"mtime":1608613668405,"results":"22","hashOfConfig":"20"},{"size":3556,"mtime":1608703338420,"results":"23","hashOfConfig":"20"},{"size":1855,"mtime":1608671019105,"results":"24","hashOfConfig":"20"},{"size":6002,"mtime":1608757518329,"results":"25","hashOfConfig":"20"},{"size":3534,"mtime":1608671500295,"results":"26","hashOfConfig":"20"},{"size":686,"mtime":1608753017229,"results":"27","hashOfConfig":"20"},{"size":437,"mtime":1608582429061,"results":"28","hashOfConfig":"20"},{"size":76,"mtime":1608172519220,"results":"29","hashOfConfig":"20"},{"size":2513,"mtime":1608181390694,"results":"30","hashOfConfig":"20"},{"size":1506,"mtime":1608181312805,"results":"31","hashOfConfig":"20"},{"size":839,"mtime":1608183085501,"results":"32","hashOfConfig":"20"},{"size":466,"mtime":1608695310525,"results":"33","hashOfConfig":"20"},{"size":1188,"mtime":1608320297591,"results":"34","hashOfConfig":"20"},{"size":374,"mtime":1608607564834,"results":"35","hashOfConfig":"20"},{"size":304,"mtime":1608320297590,"results":"36","hashOfConfig":"20"},{"size":1697,"mtime":1608795553045,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"12e33v6",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"49","messages":"50","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"75","messages":"76","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"77","messages":"78","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/index.js",[],["79","80"],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/RestaurantProfile.js",[],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/MenuCard.js",["81","82"],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Containers/RestaurantContainer.js",["83","84","85"],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/RestaurantCard.js",["86","87","88","89"],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/App.js",["90","91","92","93","94"],"import React from 'react';\nimport NavBar from './Components/Navbar';\nimport Account from './Components/Account';\nimport Home from './Components/Home';\nimport History from './Components/History';\nimport RestaurantContainer from './Containers/RestaurantContainer';\nimport Cart from './Components/Cart';\nimport {\n  withRouter,\n  Switch,\n  Route,\n  Link,\n  Redirect\n} from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport produce from \"immer\";\n\n\nclass App extends React.Component {\n\n  state = {\n      activeCart: [],\n      token: \"\",\n      username: \"\",\n      past_orders: []\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:3000/api/v1/users/1')\n      .then(response => response.json())\n      .then(data => {\n        let activeCart = data.carts.filter(cart => cart.checkout === false)\n        let past_orders = data.carts.filter(cart => cart.checkout === true)\n        this.setState({\n          activeCart: activeCart[0],\n          past_orders: past_orders\n        })\n      });\n  }\n\n  addToCart = (menuObj) => {\n    // const cartItems = this.state.activeCart.menu_items.slice();\n    // let alreadyInCart = false;\n    // cartItems.forEach((item) => {\n    //   if (item.id === menuObj.id) {\n    //     item.count++;\n    //     alreadyInCart = true;\n    //   }\n    // });\n    // if (!alreadyInCart) {\n    //   cartItems.push({ ...menuObj.id, count: 1 });\n    // }\n    fetch('http://localhost:3000/api/v1/cart_items', {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify({\n        menu_item_id: menuObj.id,\n        cart_id: this.state.activeCart.id\n      })\n    })\n      .then(r => r.json())\n      .then(data => {\n        // debugger\n        this.setState(produce(this.state, draft => {\n          draft.activeCart.menu_items = [...draft.activeCart.menu_items, data.menu_item]\n          draft.activeCart.cart_items = [...draft.activeCart.cart_items, data.cart_item]\n        }))\n      })\n  }\n\n  removeFromCart = (menuitem) => {\n    let cartItem = this.state.activeCart.cart_items.find(item => item.menu_item_id == menuitem.id )\n    //use filter instead of find?\n    let cartIndex = this.state.activeCart.cart_items.indexOf(cartItem)\n    let menuIndex = this.state.activeCart.menu_items.indexOf(menuitem)\n    fetch(`http://localhost:3000/api/v1/cart_items/${cartItem.id}`, {\n      method: 'DELETE'\n    })\n    .then(resp => resp.json())\n    .then(data => {\n      this.setState(produce(this.state, draft => {\n        draft.activeCart.cart_items.splice(cartIndex, 1)\n        draft.activeCart.menu_items.splice(menuIndex, 1)\n      }))\n    })\n    .catch(err => console.log(err))\n}\n\n  handleCheckout = () => {\n    alert(\"Thank you for your order! Your food is on the way. \");\n      Promise.all([\n        fetch('http://localhost:3000/api/v1/carts',{\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n          },\n          body: JSON.stringify({\n            note: \"tester note\",\n            checkout: false,\n            user_id: 1\n          })\n        })\n        ,\n        fetch(`http://localhost:3000/api/v1/carts/${this.state.activeCart.id}`,{\n          method: \"PATCH\",\n          headers: {\n              \"Content-Type\": \"application/json\",\n              \"Accept\": \"application/json\"\n          },\n          body: JSON.stringify({\n            checkout: true\n          })\n        })\n      ])\n      .then(([resp1, resp2]) => {\n        return Promise.all([resp1.json(), resp2.json()])\n      })\n      .then(([data1, data2]) => {\n        console.log(data1, data2)\n        this.setState({\n          activeCart: data1\n        })\n        this.props.history.push(\"/\")\n\n        })\n      }\n\n    render(){\n      console.log(\"historycart\",this.state.past_orders)\n      return (\n        <>\n        { this.state.activeCart.length === 0 ? <h2>loading</h2> :\n          <div className=\"grid-container\">\n            <header>\n              <NavBar/>\n            </header>\n            <main>\n              <div className=\"content\">\n                <div className=\"main\">\n                  <Route\n                      path='/' exact\n                      render={()=>{\n                        return(\n                          <div className='index'>\n                            <Home/>\n                          </div>\n                        )\n                      }}/>\n                  <Route\n                      path='/my-account'\n                      render={()=>{\n                        return(\n                          <div className=\"index\">\n                          <Account/>\n                          </div>\n                        )\n                      }}/>\n                  <Route\n                      path='/restaurants'\n                      render={()=>{\n                        return(\n                          <div className='index'>\n                            <RestaurantContainer\n                              addToCart={this.addToCart}\n                            />\n                          </div>\n                        )\n                      }}/>\n                  <Route\n                      path='/carthistory'\n                      render={()=>{\n                        return(\n                          <div className=\"index\">\n                          <History pastOrders={this.state.past_orders}/>\n                          </div>\n                        )\n                  }}/>\n                </div>\n                <div className=\"sidebar\">\n                  <Cart\n                    menuItems={this.state.activeCart.menu_items}\n                    removeFromCart={this.removeFromCart}\n                    handleCheckout={this.handleCheckout}\n                  />\n                </div>\n              </div>\n            </main>\n            <footer> Order Out By SunJet Liu </footer>\n          </div>\n        }\n        </>\n    );\n  }\n\n}\n\nexport default withRouter(App);\n","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Cart.js",["95","96","97","98","99"],"import React from 'react'\nimport formatCurrency from \"./util\";\nimport { connect } from 'react-redux';\nimport {Link, Route, Switch, Redirect} from 'react-router-dom'\nimport { PayPalButton } from 'react-paypal-button-v2'\nimport Fade from 'react-reveal/Fade'\n\nclass Cart extends React.Component {\n\n    handleCheckout = (e) => {\n    e.preventDefault();\n\n    this.props.handleCheckout(e);\n};\n\n    renderCart = () => {\n        const { menuItems } = this.props;\n\n        return menuItems.map((item) => (\n            <div>\n                    <Fade left cascade>\n\n                <div key={item.id}>\n                <div>\n                    <img src={item.img} alt={item.name}></img>\n                </div>\n                <div>\n                    <div>{item.name}</div>\n                    <div className=\"right\">\n                    {formatCurrency(item.price)}\n                    {/* x {item.count}{\" \"} */}\n                    <button\n                    //this just shows the item iteself times how many (how many currently not showing)\n                        className=\"button primary\"\n                        onClick={() => this.props.removeFromCart(item)}\n                    >\n                        Remove Item\n                    </button>\n                    </div>\n                </div>\n                </div>\n                    </Fade>\n            </div>\n        ))\n    }\n\n\nrender() {\n    const { menuItems } = this.props;\n    console.log(\"props\", this.props)\n    return (\n\n\n    <div>\n\n        {menuItems.length === 0 ? (\n            <div className=\"cart cart-header\">Your cart is empty</div>\n        ) : (\n            <div className=\"cart cart-header\">\n            You have {menuItems.length} in the cart{\" \"}\n        </div>\n        )}\n\n        <div>\n            <div className=\"cart\">\n                <ul className=\"cart-items\">\n                    {this.renderCart()}\n                </ul>\n            </div>\n        {menuItems.length !== 0 && (\n            <div>\n            <div className=\"cart\">\n                <div className=\"total\">\n                    <div>\n                        Total:{\" \"}\n                        {formatCurrency(\n                            menuItems.reduce((agg, c) => agg + c.price, 0)\n                            //this is the total cost at the bottom of cart.\n                            )}\n                    </div>\n                    <div className=\"note\">\n                        <div>\n                            <form onSubmit={this.submitHandler}>\n                                <input type=\"text\" name=\"note\" placeholder=\"Add Order Note\"\n                                // value={\"\"}\n                                onChange={this.changeHandler}/>\n                                <input className=\"button primary\" type=\"submit\" value=\"Add Note\"/>\n                            </form>\n                        </div>\n                    </div>\n                    <div>\n                        <form onSubmit={this.handleCheckout}>\n                            {/* <Link to={`/checkout`}> */}\n                            <button className=\"button primary\" type=\"submit\">\n                                Checkout\n                            </button>\n                            {/* </Link> */}\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <div className=\"paypal-button\">\n                    <PayPalButton/>\n            </div>\n        </div>\n        )}\n        </div>\n    </div>\n    );\n}\n}\n\nexport default Cart;\n","/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Navbar.js",[],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Containers/MenuContainer.js",[],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/util.js",[],["100","101"],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Redux/actions.js",[],["102","103"],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Redux/rootReducer.js",[],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Redux/later/cartActions.js",[],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Search.js",[],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Filter.js",[],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Home.js",["104","105","106","107"],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/Account.js",["108","109","110","111"],"/Users/chun/Flatiron/Mod 5 Project/order-out-frontend/src/Components/History.js",["112","113"],{"ruleId":"114","replacedBy":"115"},{"ruleId":"116","replacedBy":"117"},{"ruleId":"118","severity":1,"message":"119","line":3,"column":8,"nodeType":"120","messageId":"121","endLine":3,"endColumn":13},{"ruleId":"122","severity":1,"message":"123","line":16,"column":21,"nodeType":"124","endLine":16,"endColumn":24},{"ruleId":"118","severity":1,"message":"125","line":7,"column":8,"nodeType":"120","messageId":"121","endLine":7,"endColumn":14},{"ruleId":"126","severity":1,"message":"127","line":64,"column":102,"nodeType":"128","messageId":"129","endLine":64,"endColumn":104},{"ruleId":"130","severity":1,"message":"131","line":89,"column":5,"nodeType":"132","messageId":"133","endLine":95,"endColumn":35},{"ruleId":"118","severity":1,"message":"134","line":2,"column":15,"nodeType":"120","messageId":"121","endLine":2,"endColumn":20},{"ruleId":"118","severity":1,"message":"135","line":2,"column":22,"nodeType":"120","messageId":"121","endLine":2,"endColumn":28},{"ruleId":"118","severity":1,"message":"136","line":2,"column":30,"nodeType":"120","messageId":"121","endLine":2,"endColumn":38},{"ruleId":"118","severity":1,"message":"119","line":5,"column":8,"nodeType":"120","messageId":"121","endLine":5,"endColumn":13},{"ruleId":"118","severity":1,"message":"135","line":10,"column":3,"nodeType":"120","messageId":"121","endLine":10,"endColumn":9},{"ruleId":"118","severity":1,"message":"137","line":12,"column":3,"nodeType":"120","messageId":"121","endLine":12,"endColumn":7},{"ruleId":"118","severity":1,"message":"136","line":13,"column":3,"nodeType":"120","messageId":"121","endLine":13,"endColumn":11},{"ruleId":"118","severity":1,"message":"138","line":15,"column":10,"nodeType":"120","messageId":"121","endLine":15,"endColumn":17},{"ruleId":"126","severity":1,"message":"127","line":75,"column":84,"nodeType":"128","messageId":"129","endLine":75,"endColumn":86},{"ruleId":"118","severity":1,"message":"138","line":3,"column":10,"nodeType":"120","messageId":"121","endLine":3,"endColumn":17},{"ruleId":"118","severity":1,"message":"137","line":4,"column":9,"nodeType":"120","messageId":"121","endLine":4,"endColumn":13},{"ruleId":"118","severity":1,"message":"134","line":4,"column":15,"nodeType":"120","messageId":"121","endLine":4,"endColumn":20},{"ruleId":"118","severity":1,"message":"135","line":4,"column":22,"nodeType":"120","messageId":"121","endLine":4,"endColumn":28},{"ruleId":"118","severity":1,"message":"136","line":4,"column":30,"nodeType":"120","messageId":"121","endLine":4,"endColumn":38},{"ruleId":"114","replacedBy":"139"},{"ruleId":"116","replacedBy":"140"},{"ruleId":"114","replacedBy":"141"},{"ruleId":"116","replacedBy":"142"},{"ruleId":"118","severity":1,"message":"137","line":2,"column":9,"nodeType":"120","messageId":"121","endLine":2,"endColumn":13},{"ruleId":"118","severity":1,"message":"134","line":2,"column":15,"nodeType":"120","messageId":"121","endLine":2,"endColumn":20},{"ruleId":"118","severity":1,"message":"135","line":2,"column":22,"nodeType":"120","messageId":"121","endLine":2,"endColumn":28},{"ruleId":"118","severity":1,"message":"136","line":2,"column":30,"nodeType":"120","messageId":"121","endLine":2,"endColumn":38},{"ruleId":"118","severity":1,"message":"137","line":2,"column":9,"nodeType":"120","messageId":"121","endLine":2,"endColumn":13},{"ruleId":"118","severity":1,"message":"134","line":2,"column":15,"nodeType":"120","messageId":"121","endLine":2,"endColumn":20},{"ruleId":"118","severity":1,"message":"135","line":2,"column":22,"nodeType":"120","messageId":"121","endLine":2,"endColumn":28},{"ruleId":"118","severity":1,"message":"136","line":2,"column":30,"nodeType":"120","messageId":"121","endLine":2,"endColumn":38},{"ruleId":"118","severity":1,"message":"143","line":2,"column":8,"nodeType":"120","messageId":"121","endLine":2,"endColumn":16},{"ruleId":"122","severity":1,"message":"123","line":25,"column":37,"nodeType":"124","endLine":25,"endColumn":40},"no-native-reassign",["144"],"no-negated-in-lhs",["145"],"no-unused-vars","'Modal' is defined but never used.","Identifier","unusedVar","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'Filter' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-lone-blocks","Block is redundant.","BlockStatement","redundantBlock","'Route' is defined but never used.","'Switch' is defined but never used.","'Redirect' is defined but never used.","'Link' is defined but never used.","'connect' is defined but never used.",["144"],["145"],["144"],["145"],"'MenuCard' is defined but never used.","no-global-assign","no-unsafe-negation"]